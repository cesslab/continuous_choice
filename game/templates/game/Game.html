{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'game/css/game.css' %}">
{% endblock %}

{% block content %}
{#    <div class="progress">#}
{#     <div class="progress-bar bg-white" role="progressbar" style="width:40%">#}
{#      </div>#}
{#      <div class="progress-bar bg-primary" role="progressbar" style="width:10%">#}
{#          A#}
{#      </div>#}
{#      <div class="progress-bar bg-success" role="progressbar" style="width:20%">#}
{#          B#}
{#      </div>#}
{#        <div class="progress-bar bg-primary" role="progressbar" style="width:10%">#}
{#            A#}
{#        </div>#}
{#    </div>#}

    <div>
        <h2><span>Seconds Remaining - </span><span id="ttext"></span></h2>
    </div>

    <table class="table table-bordered">
    <thead>
        <tr>
            <th></th>
            <th>A</th>
            <th>B</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">A</th>
            <td>a, a</td>
            <td>a, b</td>
        </tr>
        <tr>
            <th scope="row">B</th>
            <td>b, a</td>
            <td>b, b</td>
        </tr>
    </tbody>
    </table>

    <textarea class="d-none"></textarea>

    <div>
        <button id="a-btn" class="btn btn-primary d-inline" onclick="addA()">A</button>
        <button id="b-btn" class="btn btn-success d-inline">B</button>
    </div>

    <div>
        <button id="next-button" class="otree-btn-next btn btn-dark d-none" onclick="addB()">Continue</button>
    </div>

{% endblock %}
{% block scripts %}
    <script>
    $(function() {
      let counter = 0;
      let timeSeconds = 60;
      let timeElement = document.getElementById('ttext');
      const intervalId = setInterval(() => {
          counter += 1;
          let seconds = timeSeconds - counter;
          timeElement.textContent = `${seconds}`;
          console.log(counter);
          if (counter === timeSeconds) {
              document.getElementById('a-btn').classList.remove('d-inline');
              document.getElementById('a-btn').classList.add('d-none');
              document.getElementById('b-btn').classList.remove('d-inline');
              document.getElementById('b-btn').classList.add('d-none');
              document.getElementById('next-button').classList.remove('d-none');
              clearInterval(intervalId);
          }
      }, 1000);
    });
</script>
{% endblock %}
